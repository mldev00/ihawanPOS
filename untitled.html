<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <script src="script.js" defer></script>
  <title>Point of Sale System</title>
</head>
<body>
  <header>
    <h1>Ihawan Ni Kuya Kuys - POS</h1>
    <h2></h2>
  </header>
  <div id="pos-container">
    <div id="product-list">
      <!-- Product listing -->
      <!-- Add more products as needed -->
    </div>
    
    <div id="cart">
      <!-- Shopping cart -->
      <h2>Shopping Cart</h2>
      <ul id="cart-items">
        <!-- Cart items will be added dynamically -->
      </ul>
      <div id="total">Total: $0.00</div>
      <button id="checkout-btn">Checkout</button>
    </div>
  </div>
  <div id="test"></div>
</body>
<style>
*{
  margin: 0;
  padding: 0;
  color:white;
}
body {
  font-family: Arial, sans-serif;
  background-color: #000000;
}

button{
  color: black;
}

li{
  margin: 10px;
  border:1px solid white;
}
h1{
  border:1px solid red;
  text-align: center;
}
#pos-container {
  display: flex;
  justify-content: space-between;
  padding: 20px;
}

#product-list {
  width: 40%;
}

.product {
  padding: 10px;
  border: 1px solid #ccc;
  margin-bottom: 10px;
}

#cart {
  width: 40%;
  border: 1px solid #ccc;
  padding: 20px;
}

#cart-items {
  list-style: none;
  padding: 0;
}

#cart-items li {
  margin-bottom: 5px;
}

#total {
  margin-top: 10px;
  font-weight: bold;
}

#checkout-btn {
  margin-top: 20px;
}
</style>
<script>
const cartItems = document.getElementById('cart-items');
document.addEventListener('DOMContentLoaded', () => {
  
  
  const productList = document.getElementById('product-list');
  
  const total = document.getElementById('total');
  const checkoutBtn = document.getElementById('checkout-btn');
  

  const products = [
    { name: 'Isaw', price: 10.00},
    { name: 'Dugo/Beta Max', price: 12.00 },
    { name: 'Paa', price: 13.00 },
    { name: 'Balunan', price: 16.00 },
    { name: 'Atay ng Baboy', price: 18.00 },
    { name: 'Tenga', price: 20.00 },
    {name: 'Ulo ng Manok',price: 16.00},
    {name: 'Pork BBQ',price: 25.00},
    {name: 'Hotdog',price: 20.00}
  ];
  
	 
  // Display products
  products.forEach(product => {
    const productDiv = document.createElement('div');
    productDiv.textContent = `${product.name} - $${product.price.toFixed(2)}`;
    productDiv.classList.add('product');
    productList.appendChild(productDiv);
	  
var itemsqty =1;
 
 		
    productDiv.addEventListener('click', () => {

      const cartItem = document.createElement('li');
      
      var cartItemsArray = cartItems.getElementsByTagName('li')
      cartItem.name = `${product.name}`;

      
      //reduce qty and price
      cartItem.addEventListener('click',(e)=>{
            
       var currentTotal = parseFloat(total.textContent.split('$')[1]);
      
       if(itemsqty>0){
         itemsqty--;
         if(itemsqty==0){
           e.target.remove();
           itemsqty=1;
         }
       }
  
      
  
        currentTotal -= product.price;
        total.textContent = `Total: $${currentTotal.toFixed(2)}`;
        //console.log(e)
        //console.log(e.target.remove())
      
        //alert(currentTotal)
     cartItem.textContent = `${itemsqty} ${product.name} - $${product.price.toFixed(2)}`;
        
          
      });
      
      
      if(cartItemsArray.length == 0){
         cartItem.textContent = `${itemsqty} ${product.name} - $${product.price.toFixed(2)}`;
         cartItems.appendChild(cartItem);
   
      }else{
        for(var itemindex =0;itemindex<=cartItemsArray.length-1;itemindex++){
          //console.log(cartItemsArray[itemindex].name)
          if(cartItemsArray[itemindex].name == product.name){
            cartItemsArray[itemindex].remove()
            
             itemsqty++;
          }
        }
         cartItem.textContent = `${itemsqty} ${product.name} - $${product.price.toFixed(2)}`;
            cartItems.appendChild(cartItem)
      }
      /*
      cartItem.textContent = `${itemsqty} ${product.name} - $${product.price.toFixed(2)}`;
      
      
      cartItems.appendChild(cartItem);
      */
      
     console.log(cartItemsArray)
    

      // Update total
   var currentTotal = parseFloat(total.textContent.split('$')[1]);
       currentTotal += product.price;
      total.textContent = `Total: $${currentTotal.toFixed(2)}`;
    });
  });

  // Checkout button event
  checkoutBtn.addEventListener('click', () => {
  //open .js file
  //try to edit js file using fso 
  
  
    //alert('Checkout button clicked! Implement your checkout logic here.');
  });
});



function log(msg){
console.log(msg)
}

</script>
</html>
